---
layout: post
title: 安装tiktoken报错处理
tags: ["tiktoken"]
categories: ["Wiki"]
---

## pip install tiktoken==0.5.1
报错如下：
```shell
pip install tiktoken==0.5.1 Looking in indexes: [https://pypi.tuna.tsinghua.edu.cn/simple](note: This error originates from a subprocess, and is likely not a problem with pip.  ERROR: Failed building wheel for tiktokenFailed to build tiktokenERROR: Failed to build installable wheels for some pyproject.toml based projects \(tiktoken\)\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]python --versionPython 3.12.7\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]pip install tiktoken==0.5.1Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple  Collecting tiktoken==0.5.1  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/bd/ef/91777d3310589c55da4bf0fafa10fdc8ddefa30aa7dfa67b2fc8825bc1f1/tiktoken-0.5.1.tar.gz   \(32 kB\)  Installing build dependencies ... done  Getting requirements to build wheel ... done  Preparing metadata \(pyproject.toml\) ... doneRequirement already satisfied: regex>=2022.1.18 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2024.9.11\)Requirement already satisfied: requests>=2.26.0 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2.32.3\)Requirement already satisfied: charset-normalizer<4,>=2 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.3.2\)Requirement already satisfied: idna<4,>=2.5 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.7\)Requirement already satisfied: urllib3<3,>=1.21.1 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2.2.3\)Requirement already satisfied: certifi>=2017.4.17 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2024.12.14\)Building wheels for collected packages: tiktoken  Building wheel for tiktoken \(pyproject.toml\) ... error  error: subprocess-exited-with-error    %C3%97 Building wheel for tiktoken \(pyproject.toml\) did not run successfully.  %E2%94%82 exit code: 1  %E2%95%B0%E2%94%80> [50 lines of output]      /tmp/pip-build-env-dxskp70c/overlay/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as a TOML table is deprecated      !!                    ********************************************************************************              Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. \(Both options available on setuptools>=77.0.0\).                    By 2026-Feb-18, you need to update your project and remove deprecated calls              or your builds will no longer be supported.                    See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license%20%20%20for%20details.%20%20%20%20%20%20%20%20%20%20%20%20%20%20********************************************************************************%20%20%20%20%20%20%20%20%20%20%20%20!!%20%20%20%20%20%20%20%20corresp\(dist,%20value,%20root_dir\)%20%20%20%20%20%20running%20bdist_wheel%20%20%20%20%20%20running%20build%20%20%20%20%20%20running%20build_py%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/model.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/registry.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/_educational.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/load.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/__init__.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/core.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20copying%20tiktoken_ext/openai_public.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20running%20egg_info%20%20%20%20%20%20writing%20tiktoken.egg-info/PKG-INFO%20%20%20%20%20%20writing%20dependency_links%20to%20tiktoken.egg-info/dependency_links.txt%20%20%20%20%20%20writing%20requirements%20to%20tiktoken.egg-info/requires.txt%20%20%20%20%20%20writing%20top-level%20names%20to%20tiktoken.egg-info/top_level.txt%20%20%20%20%20%20reading%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20reading%20manifest%20template%20'MANIFEST.in'%20%20%20%20%20%20warning:%20no%20files%20found%20matching%20'Makefile'%20%20%20%20%20%20adding%20license%20file%20'LICENSE'%20%20%20%20%20%20writing%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20copying%20tiktoken/py.typed%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20running%20build_ext%20%20%20%20%20%20running%20build_rust%20%20%20%20%20%20error:%20can't%20find%20Rust%20compiler%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20are%20using%20an%20outdated%20pip%20version,%20it%20is%20possible%20a%20prebuilt%20wheel%20is%20available%20for%20this%20package%20but%20pip%20is%20not%20able%20to%20install%20from%20it.%20Installing%20from%20the%20wheel%20would%20avoid%20the%20need%20for%20a%20Rust%20compiler.%20%20%20%20%20%20%20%20%20%20%20%20To%20update%20pip,%20run:%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pip%20install%20--upgrade%20pip%20%20%20%20%20%20%20%20%20%20%20%20and%20then%20retry%20package%20installation.%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20did%20intend%20to%20build%20this%20package%20from%20source,%20try%20installing%20a%20Rust%20compiler%20from%20your%20system%20package%20manager%20and%20ensure%20it%20is%20on%20the%20PATH%20during%20installation.%20Alternatively,%20rustup%20\(available%20at%20https://rustup.rs%20%20\)%20is%20the%20recommended%20way%20to%20download%20and%20update%20the%20Rust%20compiler%20toolchain.%20%20%20%20%20%20[end%20of%20output]%20%20%20%20note:%20This%20error%20originates%20from%20a%20subprocess,%20and%20is%20likely%20not%20a%20problem%20with%20pip.%20%20ERROR:%20Failed%20building%20wheel%20for%20tiktokenFailed%20to%20build%20tiktoken) Collecting tiktoken==0.5.1 Using cached [https://pypi.tuna.tsinghua.edu.cn/packages/bd/ef/91777d3310589c55da4bf0fafa10fdc8ddefa30aa7dfa67b2fc8825bc1f1/tiktoken-0.5.1.tar.gz](note: This error originates from a subprocess, and is likely not a problem with pip.  ERROR: Failed building wheel for tiktokenFailed to build tiktokenERROR: Failed to build installable wheels for some pyproject.toml based projects \(tiktoken\)\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]python --versionPython 3.12.7\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]pip install tiktoken==0.5.1Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple  Collecting tiktoken==0.5.1  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/bd/ef/91777d3310589c55da4bf0fafa10fdc8ddefa30aa7dfa67b2fc8825bc1f1/tiktoken-0.5.1.tar.gz   \(32 kB\)  Installing build dependencies ... done  Getting requirements to build wheel ... done  Preparing metadata \(pyproject.toml\) ... doneRequirement already satisfied: regex>=2022.1.18 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2024.9.11\)Requirement already satisfied: requests>=2.26.0 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2.32.3\)Requirement already satisfied: charset-normalizer<4,>=2 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.3.2\)Requirement already satisfied: idna<4,>=2.5 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.7\)Requirement already satisfied: urllib3<3,>=1.21.1 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2.2.3\)Requirement already satisfied: certifi>=2017.4.17 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2024.12.14\)Building wheels for collected packages: tiktoken  Building wheel for tiktoken \(pyproject.toml\) ... error  error: subprocess-exited-with-error    %C3%97 Building wheel for tiktoken \(pyproject.toml\) did not run successfully.  %E2%94%82 exit code: 1  %E2%95%B0%E2%94%80> [50 lines of output]      /tmp/pip-build-env-dxskp70c/overlay/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as a TOML table is deprecated      !!                    ********************************************************************************              Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. \(Both options available on setuptools>=77.0.0\).                    By 2026-Feb-18, you need to update your project and remove deprecated calls              or your builds will no longer be supported.                    See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license%20%20%20for%20details.%20%20%20%20%20%20%20%20%20%20%20%20%20%20********************************************************************************%20%20%20%20%20%20%20%20%20%20%20%20!!%20%20%20%20%20%20%20%20corresp\(dist,%20value,%20root_dir\)%20%20%20%20%20%20running%20bdist_wheel%20%20%20%20%20%20running%20build%20%20%20%20%20%20running%20build_py%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/model.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/registry.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/_educational.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/load.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/__init__.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/core.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20copying%20tiktoken_ext/openai_public.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20running%20egg_info%20%20%20%20%20%20writing%20tiktoken.egg-info/PKG-INFO%20%20%20%20%20%20writing%20dependency_links%20to%20tiktoken.egg-info/dependency_links.txt%20%20%20%20%20%20writing%20requirements%20to%20tiktoken.egg-info/requires.txt%20%20%20%20%20%20writing%20top-level%20names%20to%20tiktoken.egg-info/top_level.txt%20%20%20%20%20%20reading%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20reading%20manifest%20template%20'MANIFEST.in'%20%20%20%20%20%20warning:%20no%20files%20found%20matching%20'Makefile'%20%20%20%20%20%20adding%20license%20file%20'LICENSE'%20%20%20%20%20%20writing%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20copying%20tiktoken/py.typed%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20running%20build_ext%20%20%20%20%20%20running%20build_rust%20%20%20%20%20%20error:%20can't%20find%20Rust%20compiler%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20are%20using%20an%20outdated%20pip%20version,%20it%20is%20possible%20a%20prebuilt%20wheel%20is%20available%20for%20this%20package%20but%20pip%20is%20not%20able%20to%20install%20from%20it.%20Installing%20from%20the%20wheel%20would%20avoid%20the%20need%20for%20a%20Rust%20compiler.%20%20%20%20%20%20%20%20%20%20%20%20To%20update%20pip,%20run:%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pip%20install%20--upgrade%20pip%20%20%20%20%20%20%20%20%20%20%20%20and%20then%20retry%20package%20installation.%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20did%20intend%20to%20build%20this%20package%20from%20source,%20try%20installing%20a%20Rust%20compiler%20from%20your%20system%20package%20manager%20and%20ensure%20it%20is%20on%20the%20PATH%20during%20installation.%20Alternatively,%20rustup%20\(available%20at%20https://rustup.rs%20%20\)%20is%20the%20recommended%20way%20to%20download%20and%20update%20the%20Rust%20compiler%20toolchain.%20%20%20%20%20%20[end%20of%20output]%20%20%20%20note:%20This%20error%20originates%20from%20a%20subprocess,%20and%20is%20likely%20not%20a%20problem%20with%20pip.%20%20ERROR:%20Failed%20building%20wheel%20for%20tiktokenFailed%20to%20build%20tiktoken) (32 kB) Installing build dependencies ... done Getting requirements to build wheel ... done Preparing metadata (pyproject.toml) ... done Requirement already satisfied: regex>=2022.1.18 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from tiktoken==0.5.1) (2024.9.11) Requirement already satisfied: requests>=2.26.0 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from tiktoken==0.5.1) (2.32.3) Requirement already satisfied: charset-normalizer<4,>=2 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from requests>=2.26.0->tiktoken==0.5.1) (3.3.2) Requirement already satisfied: idna<4,>=2.5 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from requests>=2.26.0->tiktoken==0.5.1) (3.7) Requirement already satisfied: urllib3<3,>=1.21.1 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from requests>=2.26.0->tiktoken==0.5.1) (2.2.3) Requirement already satisfied: certifi>=2017.4.17 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages (from requests>=2.26.0->tiktoken==0.5.1) (2024.12.14) Building wheels for collected packages: tiktoken Building wheel for tiktoken (pyproject.toml) ... error error: subprocess-exited-with-error × Building wheel for tiktoken (pyproject.toml) did not run successfully. │ exit code: 1 ╰─> [50 lines of output] /tmp/pip-build-env-dxskp70c/overlay/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as a TOML table is deprecated !! ******************************************************************************** Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. (Both options available on setuptools>=77.0.0). By 2026-Feb-18, you need to update your project and remove deprecated calls or your builds will no longer be supported. See [https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license ![Writing your pyproject.toml - Python Packaging User Guide](https://kimi-img.moonshot.cn/webimg2/icon-cache-img/packaging.python.org) Writing your pyproject.toml - Python Packaging User Guide](note: This error originates from a subprocess, and is likely not a problem with pip.  ERROR: Failed building wheel for tiktokenFailed to build tiktokenERROR: Failed to build installable wheels for some pyproject.toml based projects \(tiktoken\)\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]python --versionPython 3.12.7\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]pip install tiktoken==0.5.1Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple  Collecting tiktoken==0.5.1  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/bd/ef/91777d3310589c55da4bf0fafa10fdc8ddefa30aa7dfa67b2fc8825bc1f1/tiktoken-0.5.1.tar.gz   \(32 kB\)  Installing build dependencies ... done  Getting requirements to build wheel ... done  Preparing metadata \(pyproject.toml\) ... doneRequirement already satisfied: regex>=2022.1.18 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2024.9.11\)Requirement already satisfied: requests>=2.26.0 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2.32.3\)Requirement already satisfied: charset-normalizer<4,>=2 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.3.2\)Requirement already satisfied: idna<4,>=2.5 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.7\)Requirement already satisfied: urllib3<3,>=1.21.1 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2.2.3\)Requirement already satisfied: certifi>=2017.4.17 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2024.12.14\)Building wheels for collected packages: tiktoken  Building wheel for tiktoken \(pyproject.toml\) ... error  error: subprocess-exited-with-error    %C3%97 Building wheel for tiktoken \(pyproject.toml\) did not run successfully.  %E2%94%82 exit code: 1  %E2%95%B0%E2%94%80> [50 lines of output]      /tmp/pip-build-env-dxskp70c/overlay/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as a TOML table is deprecated      !!                    ********************************************************************************              Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. \(Both options available on setuptools>=77.0.0\).                    By 2026-Feb-18, you need to update your project and remove deprecated calls              or your builds will no longer be supported.                    See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license%20%20%20for%20details.%20%20%20%20%20%20%20%20%20%20%20%20%20%20********************************************************************************%20%20%20%20%20%20%20%20%20%20%20%20!!%20%20%20%20%20%20%20%20corresp\(dist,%20value,%20root_dir\)%20%20%20%20%20%20running%20bdist_wheel%20%20%20%20%20%20running%20build%20%20%20%20%20%20running%20build_py%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/model.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/registry.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/_educational.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/load.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/__init__.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/core.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20copying%20tiktoken_ext/openai_public.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20running%20egg_info%20%20%20%20%20%20writing%20tiktoken.egg-info/PKG-INFO%20%20%20%20%20%20writing%20dependency_links%20to%20tiktoken.egg-info/dependency_links.txt%20%20%20%20%20%20writing%20requirements%20to%20tiktoken.egg-info/requires.txt%20%20%20%20%20%20writing%20top-level%20names%20to%20tiktoken.egg-info/top_level.txt%20%20%20%20%20%20reading%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20reading%20manifest%20template%20'MANIFEST.in'%20%20%20%20%20%20warning:%20no%20files%20found%20matching%20'Makefile'%20%20%20%20%20%20adding%20license%20file%20'LICENSE'%20%20%20%20%20%20writing%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20copying%20tiktoken/py.typed%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20running%20build_ext%20%20%20%20%20%20running%20build_rust%20%20%20%20%20%20error:%20can't%20find%20Rust%20compiler%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20are%20using%20an%20outdated%20pip%20version,%20it%20is%20possible%20a%20prebuilt%20wheel%20is%20available%20for%20this%20package%20but%20pip%20is%20not%20able%20to%20install%20from%20it.%20Installing%20from%20the%20wheel%20would%20avoid%20the%20need%20for%20a%20Rust%20compiler.%20%20%20%20%20%20%20%20%20%20%20%20To%20update%20pip,%20run:%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pip%20install%20--upgrade%20pip%20%20%20%20%20%20%20%20%20%20%20%20and%20then%20retry%20package%20installation.%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20did%20intend%20to%20build%20this%20package%20from%20source,%20try%20installing%20a%20Rust%20compiler%20from%20your%20system%20package%20manager%20and%20ensure%20it%20is%20on%20the%20PATH%20during%20installation.%20Alternatively,%20rustup%20\(available%20at%20https://rustup.rs%20%20\)%20is%20the%20recommended%20way%20to%20download%20and%20update%20the%20Rust%20compiler%20toolchain.%20%20%20%20%20%20[end%20of%20output]%20%20%20%20note:%20This%20error%20originates%20from%20a%20subprocess,%20and%20is%20likely%20not%20a%20problem%20with%20pip.%20%20ERROR:%20Failed%20building%20wheel%20for%20tiktokenFailed%20to%20build%20tiktoken) for details. ******************************************************************************** !! corresp(dist, value, root_dir) running bdist_wheel running build running build_py creating build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/model.py -> build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/registry.py -> build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/_educational.py -> build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/load.py -> build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/__init__.py -> build/lib.linux-x86_64-cpython-312/tiktoken copying tiktoken/core.py -> build/lib.linux-x86_64-cpython-312/tiktoken creating build/lib.linux-x86_64-cpython-312/tiktoken_ext copying tiktoken_ext/openai_public.py -> build/lib.linux-x86_64-cpython-312/tiktoken_ext running egg_info writing tiktoken.egg-info/PKG-INFO writing dependency_links to tiktoken.egg-info/dependency_links.txt writing requirements to tiktoken.egg-info/requires.txt writing top-level names to tiktoken.egg-info/top_level.txt reading manifest file 'tiktoken.egg-info/SOURCES.txt' reading manifest template 'MANIFEST.in' warning: no files found matching 'Makefile' adding license file 'LICENSE' writing manifest file 'tiktoken.egg-info/SOURCES.txt' copying tiktoken/py.typed -> build/lib.linux-x86_64-cpython-312/tiktoken running build_ext running build_rust error: can't find Rust compiler If you are using an outdated pip version, it is possible a prebuilt wheel is available for this package but pip is not able to install from it. Installing from the wheel would avoid the need for a Rust compiler. To update pip, run: pip install --upgrade pip and then retry package installation. If you did intend to build this package from source, try installing a Rust compiler from your system package manager and ensure it is on the PATH during installation. Alternatively, rustup (available at [https://rustup.rs ![rustup.rs - The Rust toolchain installer](https://kimi-img.moonshot.cn/webimg2/icon-cache-img/rustup.rs) rustup.rs - The Rust toolchain installer](note: This error originates from a subprocess, and is likely not a problem with pip.  ERROR: Failed building wheel for tiktokenFailed to build tiktokenERROR: Failed to build installable wheels for some pyproject.toml based projects \(tiktoken\)\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]python --versionPython 3.12.7\(pytorch\) ~/work/projects/githubProjects/minimind git:[master]pip install tiktoken==0.5.1Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple  Collecting tiktoken==0.5.1  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/bd/ef/91777d3310589c55da4bf0fafa10fdc8ddefa30aa7dfa67b2fc8825bc1f1/tiktoken-0.5.1.tar.gz   \(32 kB\)  Installing build dependencies ... done  Getting requirements to build wheel ... done  Preparing metadata \(pyproject.toml\) ... doneRequirement already satisfied: regex>=2022.1.18 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2024.9.11\)Requirement already satisfied: requests>=2.26.0 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from tiktoken==0.5.1\) \(2.32.3\)Requirement already satisfied: charset-normalizer<4,>=2 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.3.2\)Requirement already satisfied: idna<4,>=2.5 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(3.7\)Requirement already satisfied: urllib3<3,>=1.21.1 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2.2.3\)Requirement already satisfied: certifi>=2017.4.17 in /home/li/anaconda3/envs/pytorch/lib/python3.12/site-packages \(from requests>=2.26.0->tiktoken==0.5.1\) \(2024.12.14\)Building wheels for collected packages: tiktoken  Building wheel for tiktoken \(pyproject.toml\) ... error  error: subprocess-exited-with-error    %C3%97 Building wheel for tiktoken \(pyproject.toml\) did not run successfully.  %E2%94%82 exit code: 1  %E2%95%B0%E2%94%80> [50 lines of output]      /tmp/pip-build-env-dxskp70c/overlay/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py:82: SetuptoolsDeprecationWarning: `project.license` as a TOML table is deprecated      !!                    ********************************************************************************              Please use a simple string containing a SPDX expression for `project.license`. You can also use `project.license-files`. \(Both options available on setuptools>=77.0.0\).                    By 2026-Feb-18, you need to update your project and remove deprecated calls              or your builds will no longer be supported.                    See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license%20%20%20for%20details.%20%20%20%20%20%20%20%20%20%20%20%20%20%20********************************************************************************%20%20%20%20%20%20%20%20%20%20%20%20!!%20%20%20%20%20%20%20%20corresp\(dist,%20value,%20root_dir\)%20%20%20%20%20%20running%20bdist_wheel%20%20%20%20%20%20running%20build%20%20%20%20%20%20running%20build_py%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/model.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/registry.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/_educational.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/load.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/__init__.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20copying%20tiktoken/core.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20creating%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20copying%20tiktoken_ext/openai_public.py%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken_ext%20%20%20%20%20%20running%20egg_info%20%20%20%20%20%20writing%20tiktoken.egg-info/PKG-INFO%20%20%20%20%20%20writing%20dependency_links%20to%20tiktoken.egg-info/dependency_links.txt%20%20%20%20%20%20writing%20requirements%20to%20tiktoken.egg-info/requires.txt%20%20%20%20%20%20writing%20top-level%20names%20to%20tiktoken.egg-info/top_level.txt%20%20%20%20%20%20reading%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20reading%20manifest%20template%20'MANIFEST.in'%20%20%20%20%20%20warning:%20no%20files%20found%20matching%20'Makefile'%20%20%20%20%20%20adding%20license%20file%20'LICENSE'%20%20%20%20%20%20writing%20manifest%20file%20'tiktoken.egg-info/SOURCES.txt'%20%20%20%20%20%20copying%20tiktoken/py.typed%20-%3E%20build/lib.linux-x86_64-cpython-312/tiktoken%20%20%20%20%20%20running%20build_ext%20%20%20%20%20%20running%20build_rust%20%20%20%20%20%20error:%20can't%20find%20Rust%20compiler%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20are%20using%20an%20outdated%20pip%20version,%20it%20is%20possible%20a%20prebuilt%20wheel%20is%20available%20for%20this%20package%20but%20pip%20is%20not%20able%20to%20install%20from%20it.%20Installing%20from%20the%20wheel%20would%20avoid%20the%20need%20for%20a%20Rust%20compiler.%20%20%20%20%20%20%20%20%20%20%20%20To%20update%20pip,%20run:%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pip%20install%20--upgrade%20pip%20%20%20%20%20%20%20%20%20%20%20%20and%20then%20retry%20package%20installation.%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20did%20intend%20to%20build%20this%20package%20from%20source,%20try%20installing%20a%20Rust%20compiler%20from%20your%20system%20package%20manager%20and%20ensure%20it%20is%20on%20the%20PATH%20during%20installation.%20Alternatively,%20rustup%20\(available%20at%20https://rustup.rs%20%20\)%20is%20the%20recommended%20way%20to%20download%20and%20update%20the%20Rust%20compiler%20toolchain.%20%20%20%20%20%20[end%20of%20output]%20%20%20%20note:%20This%20error%20originates%20from%20a%20subprocess,%20and%20is%20likely%20not%20a%20problem%20with%20pip.%20%20ERROR:%20Failed%20building%20wheel%20for%20tiktokenFailed%20to%20build%20tiktoken) ) is the recommended way to download and update the Rust compiler toolchain. [end of output] note: This error originates from a subprocess, and is likely not a problem with pip. ERROR: Failed building wheel for tiktoken Failed to build tiktoken
```

原因：缺少 Rust 编译器

解决办法：安装 Rust 编译器

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env
```
